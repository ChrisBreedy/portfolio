<!DOCTYPE html>
<html lang="en">

<head>
    <title>Chris Breedy</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=0" />
    <meta name="description" content="Chris Breedy's Website. Designing the future, one home at a time.">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-touch-fullscreen" content="yes" />

    <meta property='og:title' content="Chris Breedy" />
    <meta property='og:image' content='https://chrisbreedy.github.io/portfolio/assets/portrait.png' />
    <meta property='og:description' content="Designing the future, one home at a time." />
    <meta property='og:url' content='https://chrisbreedy.github.io/portfolio/' />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r67/three.min.js"></script>

    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/new.css">
    <link rel="stylesheet" type="text/css" href="css/images.css">
</head>

<body>
    <div class="max-width">
        <div class="top">
            <nav>
                <div>
                    <h3><a href="/portfolio">Chris Breedy</a></h3>
                </div>
                <div class="spacer"></div>
                <h3><a href="/portfolio/about">About me</a></h3>
                <h3><a href="/portfolio/assets/Christopher_Breedy_Resume.pdf" target="_blank">Resume</a></h3>
                <div>
                    <input id="toggle" class="toggle" type="checkbox" title="Toggle dark mode">
                </div>
            </nav>

            <div class="intro about">
                <h1 class="bot-space">The Moffat House</h1>
            </div>
            <div class="img-row">
                <div class="img-column">
                    <img src="/portfolio/assets/build4/Image29.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image30.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image31.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image32.png" style="width:100%">
                </div>
                <div class="img-column">
                    <img src="/portfolio/assets/build4/Image33.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image34.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image35.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image36.png" style="width:100%">
                </div>
                <div class="img-column">
                    <img src="/portfolio/assets/build4/Image37.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image38.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image39.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image40.png" style="width:100%">
                </div>
                <div class="img-column">
                    <img src="/portfolio/assets/build4/Image41.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image42.png" style="width:100%">
                    <img src="/portfolio/assets/build4/Image43.png" style="width:100%">
                </div>
            </div>
        </div>

        <footer>
            <div class="group">
                <p>Status</p>
                <br>
                <p>Designing the future, one home at a time.</p>
            </div>
            <div class="group">
                <p>Contact</p>
                <br>
                <p><a href="mailto:Chrisbreedy8@gmail.com" target="_blank">Chrisbreedy8@gmail.com</a></p>
                <p><a href="https://www.linkedin.com/in/christopher-breedy-5b217b19b/" target="_blank">Linkedin</a></p>
                <p><a href="https://www.instagram.com/chrisxbreedy/" target="_blank">Instagram</a></p>
                <p><a href="https://www.youtube.com/channel/UC_ZGuLeNPoAwPEjAa07iO5g" target="_blank">YouTube</a></p>
            </div>
            <div class="group">
                <p>Credits</p>
                <br>
                <p>All rights reserved.</p>
            </div>
            <div class="spacer"></div>
        </footer>
    </div>

    <script type="text/javascript">
        // ellipse polyfill via https://github.com/google/canvas-5-polyfill/blob/master/canvas.js
        if (CanvasRenderingContext2D.prototype.ellipse == undefined) {
            CanvasRenderingContext2D.prototype.ellipse = function (x, y, radiusX, radiusY, rotation, startAngle, endAngle, antiClockwise) {
                this.save();
                this.translate(x, y);
                this.rotate(rotation);
                this.scale(radiusX, radiusY);
                this.arc(0, 0, 1, startAngle, endAngle, antiClockwise);
                this.restore();
            }
        }
        // end polyfill
        console.clear()
        var PI = Math.PI, TAU = Math.PI * 2, t = 0, startTime = Date.now()

        function sin(a) { return Math.sin(a) }
        function cos(a) { return Math.cos(a) }
        function sqrt(a) { return Math.sqrt(a) }
        function hypot(a, b) { return Math.sqrt(a * a + b * b) }

        function hsla(h, s, l, a) {
            return "hsla(" + h + "," + s + "%," + l + "%," + a + ")"
        }

        function rainbow(a, offset, mid, breadth) {
            var r = mid + (breadth / 2 | 0) * sin(a + 0 * offset),
                g = mid + (breadth / 2 | 0) * sin(a + 2 * offset),
                b = mid + (breadth / 2 | 0) * sin(a + 4 * offset)
            return "rgba(" + (r | 0) + "," + (g | 0) + "," + (b | 0) + ",0.3)"
        }


        function polygon(x, y, sides, radius, rotation) {
            ctx.save()
            ctx.translate(x, y)
            ctx.beginPath()
            ctx.moveTo(sin(0 + rotation) * radius, cos(0 + rotation) * radius)
            for (var i = TAU / sides; i < TAU; i += TAU / sides) {
                ctx.lineTo(sin(i + rotation) * radius, cos(i + rotation) * radius)
            }
            ctx.closePath()
            ctx.restore()
        }

        Mouse = {
            x: window.innerWidth / 2,
            y: window.innerHeight / 2,
            events: {
                move: function (e) {
                    Mouse.x = (Mouse.x + e.pageX) * 0.5
                    Mouse.y = (Mouse.y + e.pageY) * 0.5
                }
            }
        }
        window.addEventListener('mousemove', Mouse.events.move, false)
        var canvas = document.createElement('canvas')
        var ctx = canvas.getContext('2d')
        document.body.appendChild(canvas)

        canvas.resizeHandler = function () {
            canvas.width = window.innerWidth // window.devicePixelRatio
            canvas.height = window.innerHeight // window.devicePixelRatio
            canvas.min = Math.min(canvas.width, canvas.height)
            canvas.max = Math.max(canvas.width, canvas.height)
            canvas.hyp = hypot(canvas.width, canvas.height)
        }
        canvas.resizeHandler()
        window.addEventListener('resize', canvas.resizeHandler, false)

        // class Point {
        // constructor(x, y, size, row, col){
        function Point(x, y, size, row, col) {
            this.x = x
            this.xPI = x / canvas.width * PI - PI / 2
            this.y = y
            this.yPI = this.y / canvas.height * PI - PI / 2
            this.size = size
            this.row = row
            this.col = col
            this.offset = { x: 0, y: 0 }
            this.scale = { x: 1, y: 1 }
            this.rotation = 0
        }
        Point.prototype.shape = function () {
            ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size)
        }
        Point.prototype.square = function () {
            ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size)
        };
        Point.prototype.polygon = function (sides, rotation) {
            polygon(0, 0, sides, this.size, rotation)
            // ctx.fill()
        }
        Point.prototype.circle = function () {
            ctx.beginPath()
            ctx.arc(0, 0, this.size / 2, 0, TAU, false)
            // ctx.closePath()
            ctx.fill()
        }
        Point.prototype.draw = function (fn) {
            ctx.save()
            ctx.translate(this.x + this.offset.x, this.y + this.offset.y)
            ctx.rotate(this.rotation)
            ctx.scale(this.scale.x, this.scale.y)
            fn()
            ctx.restore()
        }
        Point.prototype.distance = function (x, y) {
            var a = x - this.x, b = y - this.y
            return Math.sqrt(a * a + b * b)
        }
        Point.prototype.angleTo = function (x, y) {
            return Math.atan2(this.x - x, this.y - y)
        }

        var grid = []
        // Point.size = grid.stride = canvas.hyp / 20
        grid.populate = function (stride) {
            grid.stride = stride || canvas.height / 32
            grid.length = 0
            var row = 0, col = 0, height = grid.stride * 2, width = sqrt(3) / 2 * height, size = grid.stride
            height = height / 1.34
            for (var y = grid.stride * -3; y < canvas.height - grid.stride * -3; y += height) {
                col = 0
                for (var x = grid.stride * -3; x < canvas.width - grid.stride * -3; x += width) {
                    var p = new Point(x, y, size, row, col)
                    if (row % 2 == 0) {
                        var p = new Point(x + width / 2, y, size, row, col)
                    }
                    grid.push(p)
                    col++
                }
                row++
            }
        }
        grid.populate(canvas.hyp / 60)

        window.addEventListener('resize', grid.populate)

        function animloop() {
            animloop.id = requestAnimationFrame(animloop)
            t = (Date.now() - startTime) / 1000
            ctx.clearRect(0, 0, canvas.width, canvas.height)
            ctx.fillStyle = 'hsl(0,9%,9%)'
            ctx.fillRect(0, 0, canvas.width, canvas.height)
            for (var i = 0, p; p = grid[i]; i++) {
                p.rotation = -PI / 4
                p.rotation = -p.angleTo(Mouse.x, Mouse.y) + p.distance(Mouse.x, Mouse.y) / canvas.hyp * PI
                p.rotation *= -4
                p.scale.x = sin(p.yPI - PI / 2) * cos(p.xPI)
                // p.scale.x *= p.distance(Mouse.x, Mouse.y)/canvas.hyp*2 + 0.1
                p.scale.y = sin(p.distance(Mouse.x, Mouse.y) / canvas.hyp * PI + PI / 2) + 1.1
                p.scale.y *= 0.25
                p.draw(function () {
                    // ctx.fillStyle = rainbow(p.rotation,1, 127,255)
                    ctx.fillStyle = 'hsla(0,9%,90%,1)'
                    ctx.fillRect(-p.size / 2 - p.size / 2 * sin(p.angleTo(Mouse.x, Mouse.y)), 0, p.size, p.size / 3)
                })
            }
            // // ctx.strokeStyle = ctx.fillStyle = 'hsl(0,9%,19%)'
            // // ctx.fillRect(0,0,canvas.width,canvas.height)
            // ctx.fillStyle = 'hsl(30,100%,77%)'
            // ctx.strokeStyle = 'hsl(0,9%,90%)'
            // ctx.globalCompositeOperation = 'xor'
            // for (var i = 0, p; p = grid[i]; i++) {
            //   p.offset.x = 0
            //   if (p.row%2) {
            //     p.offset.x = p.size * sqrt(3)/2 - p.size/4
            //   } else {
            //     p.offset.x = -p.size/4
            //   }
            //   p.rotation = t/20// + (sin(p.xPI/3 - PI/6)*cos(p.yPI/3 - PI/3))
            //   p.rotation = PI/6*sin(-t/5 + -PI/3*sin(-t/2)) + t/10
            //   // p.offset.y = sin(p.xPI+t)*p.size/6
            //   // p.offset.x += cos(p.yPI-t)*p.size/6
            //
            //   p.scale.x = p.scale.y = 0.933 + sin(p.rotation*6 + PI/12*6)*0.067
            //
            //     p.draw(function(){
            //       for (var i = TAU/6; i < TAU; i+=TAU/6) {
            //         ctx.save()
            //         ctx.translate(sin(-i)*(p.size-2),cos(i)*(p.size-2))
            //         // p.scale.x = 0.1
            //         // p.scale.y *= 0.05
            //         p.polygon(3, PI/3 * sin(PI/2) - i)
            //         ctx.restore()
            //         if(i%(TAU/6)>=0.1){
            //           ctx.fill()
            //         }
            //         // ctx.stroke()
            //       }
            //     })
            // }

        }
        animloop()
      // grid[0].draw(grid[0].square)
    </script>
    <!-- <canvas id='canvas' style='cursor: default;'>
    </canvas>
    <script src='/lib/latch.js'></script> -->
    <script>
        let toggle = document.getElementById("toggle");
        let style = document.createElement('style');

        const updateAppearance = () => {
            localStorage.setItem("appearance", appearance);
            if (appearance === "system" ? systemDarkMode : appearance === "dark") {
                toggle.checked = false;
                document.body.classList.add("dark");

                style.innerHTML = ':root {color-scheme: dark;}';
                document.head.appendChild(style);
            } else {
                toggle.checked = true;
                document.body.classList.remove("dark");

                style.innerHTML = ':root {color-scheme: light;}';
                document.head.appendChild(style);
            }
        };

        let darkModeQuery = window.matchMedia("(prefers-color-scheme: dark)");
        let appearance = localStorage.getItem("appearance") ?? "system";
        let systemDarkMode = darkModeQuery.matches;
        darkModeQuery.addEventListener("change", (m) => { systemDarkMode = m.matches; updateAppearance(); });
        updateAppearance();

        toggle.addEventListener("change", (e) => { appearance = appearance === "dark" ? "light" : "dark"; updateAppearance(); });
    </script>
</body>

</html>